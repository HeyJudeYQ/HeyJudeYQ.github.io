<!DOCTYPE html><html lang="zh-Hans"><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> vue项目中遇到的问题 · 小鱼儿</title><meta name="description" content="Javascript Vue CSS HTML"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/jekyll.css"><!--[if lt IE 9]>
<script src="js/html5shiv.min.js"></script>
<script src="js/respond.min.js"></script>
<![endif]--></head><body><header class="row-flex-row limit-width vh-center"><a href="/" class="logo"><img src="/favicon.png"></a><nav><ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-link">主页</a></li><li class="nav-list-item"><a href="/archives/" class="nav-link active">   博客</a></li></ul></nav></header><div class="container limit-width"><section class="row-flex-row"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/2020/05/07/vue-question/" class="post-title-link">vue项目中遇到的问题</a></h2><div class="post-meta"><div class="post-time">2020年May7th Thursday</div></div><div class="post-content"><p>使用Vue开发时遇到的问题</p>
<a id="more"></a>
<h5 id="一、跨域"><a href="#一、跨域" class="headerlink" title="一、跨域"></a>一、跨域</h5><p>因为客户端的同源策略，导致了跨域问题。一般解决办法是：<br>在使用vue-cli初始化的项目，在配置文件中添加proxyTable来解决本地开发的跨域问题。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">proxyTable:&#123;</span><br><span class="line">    <span class="string">'/api'</span>:&#123;</span><br><span class="line">        target:<span class="string">'url'</span>,// 接口域名</span><br><span class="line">        changeOrigin:<span class="literal">true</span>, // 是否启用跨域</span><br><span class="line">        pathRewrite:&#123;</span><br><span class="line">            <span class="string">'^/api'</span>:<span class="string">'</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<p>vue-cli3需要创建一个vue.config.js文件，在此文件中添加配置项。</p>
<h5 id="二、项目打包产生很大的-map文件"><a href="#二、项目打包产生很大的-map文件" class="headerlink" title="二、项目打包产生很大的.map文件"></a>二、项目打包产生很大的.map文件</h5><p>项目打包后，代码都是经过压缩加密的，如果运行时报错，输出的错误信息无法准确得知是哪里的代码报错。而生成的.map文件就可以像未加密的代码一样，准确的知道是哪里出了问题。生成环境一般不需要此文件，在config/index.js文件中，<br>设置productionSourceMap:false,就可以不生成.map文件了。</p>
<h5 id="三、fastClick的300ms延迟"><a href="#三、fastClick的300ms延迟" class="headerlink" title="三、fastClick的300ms延迟"></a>三、fastClick的300ms延迟</h5><p>安装fastclick插件<br>在main.js中引入fastClick</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import FastClick from <span class="string">'fastclick'</span>;</span><br><span class="line">FastClick.attach(document.body);// 使用fastclick</span><br></pre></td></tr></table></figure>

<h5 id="四、减少首屏加载速度–路由懒加载"><a href="#四、减少首屏加载速度–路由懒加载" class="headerlink" title="四、减少首屏加载速度–路由懒加载"></a>四、减少首屏加载速度–路由懒加载</h5><p>路由懒加载可以帮我们在进入首屏的时候，不用加载过度的资源，从而减少首屏的加载速度。<br>路由配置一：<br>    非懒加载方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Index from <span class="string">"@/pages/Index/Index"</span></span><br><span class="line"><span class="built_in">export</span> default new Router(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">        &#123;</span><br><span class="line">            path:<span class="string">'/'</span>,</span><br><span class="line">            name:<span class="string">'Index'</span>,</span><br><span class="line">            component:Index</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<pre><code>路由懒加载</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> default new Router(&#123;</span><br><span class="line">    routes:[</span><br><span class="line">        &#123;</span><br><span class="line">            path:<span class="string">'/'</span>,</span><br><span class="line">            name:<span class="string">'Index'</span>,</span><br><span class="line">            component:resolve =&gt; require([<span class="string">'@/pages/Index/Index'</span>],resolve)</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h5 id="五、减少文件体积–开启gzip"><a href="#五、减少文件体积–开启gzip" class="headerlink" title="五、减少文件体积–开启gzip"></a>五、减少文件体积–开启gzip</h5><p>安装插件compression-webpack-plugin<br>npm i compression-webpack-plugin<br>在config/index.js中开启gzip</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">build:&#123;</span><br><span class="line">    productionGzip:<span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="六、不要在method中使用箭头函数"><a href="#六、不要在method中使用箭头函数" class="headerlink" title="六、不要在method中使用箭头函数"></a>六、不要在method中使用箭头函数</h5><p>Vue官网上有说明，问什么不应该在method中使用.<br>在methods不应该使用箭头函数来定义method函数，理由是箭头函数绑定了父级作用域上下文，所以this将不会按照我们的期望指向Vue实例<br>注意，不应该使用箭头函数来定义 method 函数 (例如 plus: () =&gt; this.a++)。理由是箭头函数绑定了父级作用域的上下文，所以 this 将不会按照期望指向 Vue 实例，this.a 将是 undefined。</p>
</div></article><div class="pagination"><span class="pagination-prev">PREV</span><a href="/2020/04/30/iterm2/" class="pagination-next">NEXT</a></div><div class="comments"></div></div><aside class="sidebar"><h3>分类标签</h3><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ES6、JavaScript、Class/">ES6、JavaScript、Class</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/H5、barcode/">H5、barcode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Javascript、Promise/">Javascript、Promise</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/QRCode/">QRCode</a></li></ul><h3>最新文章</h3><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/05/07/vue-question/">vue项目中遇到的问题</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/30/iterm2/">iTerm2快捷键</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/28/search/">移动端页面自定义input唤起键盘return，换行改为搜索</a></li><li class="post-list-item"><a class="post-list-link" href="/2020/04/22/Virtualkey/">使用Vue开发APP手机虚拟返回键点击退出应用解决办法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/30/Barcode/">H5扫码功能</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/12/30/QRCode/">如何使用QRCode生成二维码？</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/11/02/detail/">Vue路由传参</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/10/24/mongodb-redis/">mongodb-redis</a></li></ul></aside></section></div><div class="extra"></div><footer class="footer"><div class="row-flex-row limit-width vh-center"><div class="copyright"><p>© 2020 <a href="/">小鱼儿</a></p></div><div class="power"><p><a href="http://pinggod.com/">Sean Sun</a>, 
<a href="https://hexo.io">Hexo</a>, 
<a href="https://github.com/">GitHub</a>, 
<a href="https://jekyllrb.com/">Jekyll</a></p></div></div></footer><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>